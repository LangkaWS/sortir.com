{% extends 'base.html.twig' %}

{% block title %}Outing{% endblock %}

{% block main %}
    <h1>Outing</h1>

    <table class="table">
        <tbody>
            <tr>
                <th>Id</th>
                <td>{{ outing.id }}</td>
            </tr>
            <tr>
                <th>OutingName</th>
                <td>{{ outing.outingName }}</td>
            </tr>
            <tr>
                <th>StartDate</th>
                <td>{{ outing.startDate ? outing.startDate|date('Y-m-d H:i:s') : '' }}</td>
            </tr>
            <tr>
                <th>Duration</th>
                <td>{{ outing.duration }}</td>
            </tr>
            <tr>
                <th>RegistrationDeadLine</th>
                <td>{{ outing.registrationDeadLine ? outing.registrationDeadLine|date('Y-m-d H:i:s') : '' }}</td>
            </tr>
            <tr>
                <th>MaxParticipants</th>
                <td>{{ outing.maxParticipants }}</td>
            </tr>
            <tr>
                <th>Description</th>
                <td>{{ outing.description }}</td>
            </tr>
        </tbody>
    </table>

    <a href="{{ path('outing_index') }}">Annuler</a>

    <a href="{{ path('outing_edit', {'id': outing.id}) }}">Modifier</a>

    {% if date(outing.startDate) > date() and app.user is same as(outing.organizer) %}
        <a href="{{ path('outing_cancel', {'id': outing.id}) }}">Annuler la sortie</a>
    {% endif %}

<table>
    <thead>
        <tr>
            <th>Pseudo</th>
            <th>Nom</th>
        </tr>
    </thead>
    <tbody>
    {% for participant in outing.participants %}
        <tr>
            <td><a href="{{path('user_show', {'username': participant.username})}}">{{participant.username}}</a></td>
            <td>{{participant.firstName}} {{participant.lastName}}<td>
        </tr>
    {% endfor %}
    </tbody>
</table>
{% endblock %}