{% block main %}
    <div>
        Filtrer les sorties
        <form id="filter_outing">
            <select id="campus" name="campus">
                <option value="1">campus</option>
                <option value="2">Campus de Strasbourg</option>
            </select>
            <label for="outingNameContains">Le nom de la sortie contient : </label>
            <input type="text" name="outingNameContains" id="outingNameContains" /><br>
            <label for="minDate">Entre</label>
            <input type="date" name="minDate" id="minDate">
            <label for="maxDate">et</label>
            <input type="date" name="maxDate" id="maxDate">
            <input type="checkbox" id="isOrganizer" name="isOrganizer"><label for="isOrganizer">Sorties dont je suis l'organisateur/trice</label>
            <input type="checkbox" id="isParticipant" name="isParticipant"><label for="isParticipant">Sorties auxquelles je suis inscrit/e</label>
            <input type="checkbox" id="isNotParticipant" name="isNotParticipant"><label for="isNotParticipant">Sorties auxquelles je ne suis pas inscrit/e</label>
            <input type="checkbox" id="isPassed" name="isPassed"><label for="isPassed">Sorties passées</label>
            <button type="submit">Rechercher</button>
        </form>
    </div>

    <table class="table">
        <thead>
            <tr>
                <th>Nom de la sortie</th>
                <th>Date de la sortie</th>
                <th>Clôture</th>
                <th>inscrits/places</th>
                <th>Etat</th>
                <th>Inscrit</th>
                <th>Organisateur</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody id="list">
            {% for outing in outings %}
            <tr>
                <td>{{ outing.outingName }}</td>
                <td>{{ outing.startDate ? outing.startDate|date('Y-m-d H:i:s') : '' }}</td>
                <td>{{ outing.registrationDeadLine ? outing.registrationDeadLine|date('Y-m-d H:i:s') : '' }}</td>
                <td>{{ outing.participants|length }}/{{ outing.maxParticipants }}</td>
                <td>{{ outing.state }}</td>
                <td>A faire</td>
                <td><a href="{{path('user_show', {'username': outing.organizer.username})}}">{{ outing.organizer.username }}</a></td>
                <td>{{ outing.description }}</td>
                <td>
                    <a href="{{ path('outing_show', {'id': outing.id}) }}">show</a>
                    <a href="{{ path('outing_edit', {'id': outing.id}) }}">edit</a>
                    {{ include('outing/_register_form.html.twig') }}
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="8">no records found</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <a class="btn" href="{{ path('outing_new') }}">Create new</a>
{% endblock %}
